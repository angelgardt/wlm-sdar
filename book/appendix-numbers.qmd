# Числа {#appendix-numbers}

{{< include other/_symbols.qmd >}}

:::{.intro}

Большая часть этого приложения либо очевидна, либо интуитивна, либо вам, вероятно, хорошо знакома из курса школьной математики. Тем не менее, для соблюдения некой строгости изложения, даже очевидные вещи здесь формально изложены.

* Если вы хорошо управляетесь со всеми числами, пропустите это приложение.
* Если вы хорошо управляете со всеми числами, кроме комплексных, прыгайте [сюда](#appendix-numbers-c).
* Если вы не уверены в том, что хорошо управляетесь с числами --- приглашаю к математическому чтиву.

:::





## Натуральные числа {#appendix-numbers-n}


К нулю как натуральному числу относятся по-разному:

* если мы рассматриваем натуральные числа как использующие при счете предметов, то нуль в натуральные числа не входит (*первый кофе*, *второй кофе*, *третий кофе*, ...);
* если мы рассматриваем натуральные числа как возникающие при обозначении количества предметов, то нуль входит в натуральные числа (*ноль скриптов*, *один скрипт*, *два скрипта*, ...).

В силу такого положения дел введено два обозначения [@iso80000-2-2019]:

* $\setN = \{0, 1, 2, 3, \ldots \}$
* $\setNstar = \{ 1, 2, 3, \ldots\}$

Оба в книге используются соответствующим образом.



### Операции над натуральными числами {#appendix-numbers-n-oprations}

Над натуральными числами определены следующие операции ($a, b \in \setN$):

* сложение ($a + b$)
* умножение ($a \cdot b$)
* возведение в степень ($a ^ b$)
* вычитание ($a - b, \, a \geq b$)
* деление с остатком ($a \div b = (q, r), \, a = q \cdot b + r, \, r < b$)

Операции сложения, умножения и возведения в степень являются **замкнутыми**, то есть не выводят результат из множества $\setN$. Операции вычитания и деления в остатком в общем случае **замкнутыми не являются**, поскольку определены не для всех натуральных чисел. В частности, вычитание $a - b$ определено только в случае, когда $a \geq b$[^minus_nstar], а *деление на ноль невозможно*, так как во множестве натуральных чисел не существует $r < 0$.

[^minus_nstar]: Только в случае $a > b$, если $a, b \in \setNstar$.

Сами операции определяются друг через друга:

* $a + b = a + \underbrace{1 + 1 + \ldots + 1}_b$
* $a \cdot b = \underbrace{a + a + \ldots + a}_b$
* $a^b = \underbrace{a \cdot a \cdot \ldots \cdot a}_b$





## Целые числа {#appendix-numbers-z}

При попытке замкнуть множество натуральных чисел относительно вычитания возникает его расширение --- множество целых чисел, обозначаемое $\setZ$:

$$
\setZ = \setN \cup \{-1, \, -2, \, -3, \, \ldots \} = \setNstar \cup \{0\} \cup \{-1, \, -2, \, -3, \, \ldots \}
$$

Во множестве целых чисел справедливо, что для каждого числа $n$ из этого множества найдется такое число $-n$ из этого же множества, что их сумма будет равна нулю:

$$
\forall n \in \setZ \, \exists -\!n \in \setZ : n + (-n) = 0
$$

Число $-n$ называется *противоположным* числу $n$. Поскольку сложно возразить утверждению $0 + 0 = 0$, то $0$ является противоположным самому себе.





## Рациональные числа {#appendix-numbers-q}

Хотелось бы замкнуть множество целых чисел ещё и относительно операции деления, чтобы все было окончательно красиво --- это приводит к его расширению до множества рациональных чисел $\setQ$. Это множество задается следующим образом:

$$
\setQ = \left\{ \frac{m}{n},  \, m \in \setZ, \, n \in \setNstar \right\}
$$







## Вещественные числа {#appendix-numbers-r}

Рациональных чисел оказывается недостаточно, чтобы описать все существующие феномены. В частности, широко известен пример вычисления гипотенузы равнобедренного прямоугольного треугольника с катетом, равным $1$.

$\setR$

$\setI = \setR \setminus \setQ$





## Комплексные числа {#appendix-numbers-c}

Можно было бы спокойно жить с вещественными числами, если бы не уравнения вида

$$
x^2 + 1 = 0
$${#eq-x2-eq-minus-one}

Если мы начнем его решать, что получим следующее:

$$
\begin{split}
x^2 + 1 &= 0 \\
x^2 &= -1 \\
\end{split}
$$

Можно было бы остановиться и сказать, что это чушь и такого не бывает. Но такой ответ математиков не устраивает, и они продолжают:

$$
\begin{split}
x^2 &= -1 \\
x_1 &= \sqrt{-1} \\
x_2 &= -\sqrt{-1}
\end{split}
$$

Штош, допустим. Попробуем решить следующее уравнение:

$$
x^2 + 3 = -6
$${#eq-x2-eq-minus-four}

По той же схеме,

$$
\begin{split}
x^2 - 2 &= -6 \\
x^2 &= -4 \\
x &= \pm \sqrt{-4} \\
x &= \pm \sqrt{(-1) \cdot 4} \\
x &= \pm \sqrt{-1} \cdot \sqrt{4} \\
x &= \pm \sqrt{-1} \cdot 2
\end{split}
$$

Интересная ситуация выходит: уже второй раз нам попадается $\sqrt{-1}$, а как известно, под знаком квадратного корня может стоять только положительное число[^arithm-sqrt]. Чтобы решить эту неприятность, математики ввели новое число $i$ --- **мнимую единицу**. Она обладает интересным свойством:

[^arithm-sqrt]: Здесь мы говорим об арифметическом квадратном корне.

$$
i^2 = -1
$${#eq-i-sq-equals-minus-one}

Введение мнимой единицы позволяет записать решения рассмотренных выше уравнений в более «приличном» виде, где отсутствует извлечение корня из отрицательного числа. В первом случае (@eq-x2-eq-minus-one):

$$
\begin{split}
x^2 + 1 &= 0 \\
x^2 &= -1 \\
x_1 &= \sqrt{-1} = \sqrt{i^2} = i \\
x_2 &= -\sqrt{-1} = -\sqrt{i^2} = -i
\end{split}
$$

Во втором случае (@eq-x2-eq-minus-four):

$$
\begin{split}
x^2 - 2 &= -6 \\
x^2 &= -4 \\
x &= \pm \sqrt{-4} \\
x &= \pm \sqrt{(-1) \cdot 4} \\
x &= \pm \sqrt{i^2 \cdot 4} \\
x &= \pm \sqrt{4} \cdot i \\
x_1 &= 2i \\
x_2 &= -2i \\
\end{split}
$$

Кроме того, мнимая единица даёт возможность расширить поле вещественных чисел до поля комплексных $\setC$:

$$
\setC = \{ a + bi, \, a, b \in \setR \}
$$


:::{.callout-important #sqrti-error}
###### $i \neq \sqrt{-1}$???

Если присмотреться к мнимой единице внимательно, то можно обнаружить следующее:

$$
\begin{split}
i^2 &= -1 \\
\sqrt{i^2} &= \sqrt{-1} \\
i &= \sqrt{-1}
\end{split}
$$

Но последнее не совсем верно.

Вроде мы математически все справедливо, однако обозначения $i$ и $\sqrt{-1}$ не вполне эквивалентны.

Так, если мы воспользуемся свойством квадратного корня, то можем получить следующее *некорректное* рассуждение:

$$
i^2 = (\sqrt{-1})^2 = \sqrt{-1} \cdot \sqrt{-1} = \sqrt{(-1) \cdot (-1)} = \sqrt{1} = 1
$$

Аналогично, например, можно получить, что

$$
(\sqrt{-2})^2 = \sqrt{-2} \cdot \sqrt{-2} = \sqrt{(-2) \cdot (-2)} = \sqrt{4} = 2
$${#eq-sqrt-minus-two-sq-error}

Возникает оно потому, что значение корня из отрицательного числа определено неоднозначно. В современной математической литературе принято во избежании ошибок выражения с квадратными корнями из отрицательных чисел записываются сразу с выделением мнимой единицы --- $i\sqrt{2}$:

$$
\sqrt{-2} = \sqrt{(-1) \cdot 2} = \sqrt{2i^2} = i\sqrt{2}
$$

В таком случае ошибок, подобных примеру c $(\sqrt{-2})^2$ (@eq-sqrt-minus-two-sq-error) не возникает:

$$
(i\sqrt{2})^2 = i^2 \cdot (\sqrt{2})^2 = -2
$$

Собственно, именно поэтому мнимую единицу определяют через её квадрат (@eq-i-sq-equals-minus-one), а не через её равенство $\sqrt{-1}$.
:::


КОМПЛЕКСНАЯ ПЛОСКОСТЬ

Сопряженное число

точно ли для любого?

$$
\forall z \in \setC, \, z = a + bi \,\, \exists \bar z = a - bi
$$

$$
z \cdot \bar z = (a + bi)(a - bi) = a^2 - abi + abi - b^2i^2 = a^2 + b^2
$$


Сложение и вычитание:

$$
z_1 + z_2 = (a_1 + b_1 i) + (a_2 + b_2 i) = (a_1 + a_2) + (b_1 + b_2)i
$$

$$
z_1 - z_2 = (a_1 + b_1 i) - (a_2 + b_2 i) = (a_1 - a_2) + (b_1 - b_2)i
$$

Для любых $u, v, w \in \setC$ выполняются следующие свойства:

$$
\begin{split}
u + v = v + u \\
u + (v + w) = (u + v) + w \\
u + 0 = u \\
u + (-u) = 0 \\
u - v = u + (-v)
\end{split}
$$

Умножение:

$$
\begin{split}
z_1 \cdot z_2 & = \\
& = (a_1 + b_1 i) \cdot (a_2 + b_2 i) = a_1 a_2 + a_1 b_2i + a_2 b_1i + b_1 b_2 i^2 = \\
& = (a_1 a_2 + b_1 b_2 i^2) + (a_1 b_2 i + a_2 b_1 i) = \\
& = (a_1 a_2 - b_1 b_2) + (a_1 b_2 + a_2 b_1)i
\end{split}
$$


$$
\begin{split}
u \cdot v = v \cdot u \\
u \cdot (v \cdot w) = (u \cdot v) \cdot w \\
u \cdot 1 = u \\
u \cdot 0 = 0 \\
u \cdot (v + w) = (u \cdot v) + (u \cdot w)
\end{split}
$$


Деление:

$$
\frac{1}{z} = \frac{1}{a + bi} = \frac{(a - bi)}{(a + bi) (a - bi)} = \frac{a - bi}{a^2 + b^2} = \frac{a}{a^2 + b^2} + \frac{b}{a^2 + b^2}i
$$

$$
\frac{z_1}{z_2} = \frac{a_1 + b_1 i}{a_2 + b_2 i} = \frac{(a_1 + b_1 i)(a_2 - b_2 i)}{(a_2 + b_2 i)(a_2 - b_2 i)} = \frac{a_1 a_2 + b_1 b_2}{a_2^2 + b_2^2} + \frac{a_2 b_1 - a_1 b_2}{a_2^2 + b_2^2}i
$$




